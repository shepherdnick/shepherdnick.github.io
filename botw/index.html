<html>
<head>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js'></script>
        <script type='text/javascript' src='angular-dark-sky.js'></script>
</head>
<body>
<img src="climacons-master/SVG/Cloud.svg" height="200%"/>
<div id="divDataHolder">
</div>
<script language="javascript" type="text/javascript">
$(document).ready(function() {
	// build request for response states for this event
	/*var url = "https://api.darksky.net/forecast/56179f71b6d9278dd4a3df7a109f9475/51.6211110,-3.93311003";

	$.getJSON(url, function(data){
		$("#divDataHolder").html(data);
	});*/

	var cors_api_url = 'https://cors-anywhere.herokuapp.com/';
	function doCORSRequest(options, printResult) {
		var x = new XMLHttpRequest();
		x.open(options.method, cors_api_url + options.url);
		x.onload = x.onerror = function() {
			printResult(
				options.method + ' ' + options.url + '\n' +
				x.status + ' ' + x.statusText + '\n\n' +
				(x.responseText || '')
			);
		};
	
		if (/^POST/i.test(options.method)) {
			x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		}
		x.send(options.data);
	}

	doCORSRequest({
			method: this.id === 'post' ? 'POST' : 'GET',
			url: "https://api.darksky.net/forecast/56179f71b6d9278dd4a3df7a109f9475/51.6211110,-3.93311003",
			data: null
		}, function printResult(result) {
			$("#divDataHolder").html(result);
		});
	});
</script>
</body>
</html>
